<!--
CityPulse - Single-file static Smart City Dashboard
- Technologies: HTML5, CSS3 (Flex/Grid), JavaScript (ES6)
- Save this as `index.html` and open in a browser or deploy to GitHub Pages.

Features implemented:
- Home dashboard with dynamic cards (Temperature, AQI, Traffic), live date/time
- Alerts page with filters, sorting, smooth animations
- Interactive SVG city map with clickable zones and hover highlights
- Feedback & Citizen Connect form with JS validation and custom modal popup
- All data preloaded in JS objects (no backend)
- Custom modals (no alert/confirm)
- Responsive layout
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CityPulse — Smart City Dashboard</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --accent:#06b6d4; --muted:#94a3b8; --glass: rgba(255,255,255,0.03);
      --success:#10b981; --danger:#ef4444; --soft:#111827;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#021124 0%, #071226 100%);color:#e6eef6}
    a{color:inherit;text-decoration:none}
    header{display:flex;align-items:center;gap:16px;padding:16px 20px;background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);backdrop-filter:blur(6px)}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#7c3aed);display:flex;align-items:center;justify-content:center;font-weight:700}
    .nav{margin-left:auto;display:flex;gap:8px}
    .nav button{background:transparent;border:1px solid transparent;padding:10px 14px;border-radius:8px;color:var(--muted);cursor:pointer}
    .nav button.active{background:var(--glass);border-color:rgba(255,255,255,0.04);color:#e6eef6}
    main{padding:20px;max-width:1200px;margin:18px auto}

    /* Layout for views */
    .view{display:none}
    .view.active{display:block}

    /* Dashboard cards */
    .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6);min-height:110px}
    .card h4{margin:0;font-size:14px;color:var(--muted)}
    .card .value{font-size:28px;margin-top:8px}
    .meter{height:8px;background:rgba(255,255,255,0.03);border-radius:8px;margin-top:12px;overflow:hidden}
    .meter > span{display:block;height:100%;background:var(--accent);width:40%}

    /* Small components */
    .clock{font-weight:600;color:#dbeafe}

    /* Alerts */
    .alerts-wrap{display:flex;gap:18px}
    .filters{min-width:220px;background:var(--card);padding:12px;border-radius:10px}
    .alerts-list{flex:1;background:var(--card);padding:12px;border-radius:10px;min-height:200px}
    .alert-item{padding:12px;border-radius:8px;margin-bottom:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);transition:transform .18s ease, box-shadow .18s ease}
    .alert-item:hover{transform:translateY(-4px);box-shadow:0 8px 24px rgba(2,6,23,0.6)}
    .badge{display:inline-block;padding:4px 8px;border-radius:999px;font-size:12px;background:rgba(255,255,255,0.03);color:var(--muted)}

    /* Map */
    .map-wrap{display:flex;gap:18px;flex-wrap:wrap}
    .map-card{flex:1;min-width:320px;background:var(--card);padding:14px;border-radius:12px}
    svg{width:100%;height:auto}
    .zone{cursor:pointer;transition:opacity .18s, transform .18s}
    .zone:hover{opacity:0.9;transform:scale(1.02)}

    /* Feedback */
    form .row{display:flex;gap:10px}
    form input, form textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    .btn{display:inline-block;padding:10px 14px;border-radius:8px;background:var(--accent);color:#06202a;border:none;cursor:pointer}

    /* Modals */
    .overlay{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;z-index:50}
    .modal{background:#071426;padding:18px;border-radius:12px;max-width:520px;width:92%}

    /* Responsive */
    @media (max-width:880px){.cards{grid-template-columns:repeat(1,1fr)} .alerts-wrap{flex-direction:column} .nav{display:none}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">CP</div>
      <div>
        <div style="font-weight:700">CityPulse</div>
        <div style="font-size:12px;color:var(--muted)">Smart City Information Dashboard</div>
      </div>
    </div>

    <nav class="nav" aria-label="Primary">
      <button class="nav-btn active" data-view="home">Home</button>
      <button class="nav-btn" data-view="alerts">Alerts & News</button>
      <button class="nav-btn" data-view="map">City Map</button>
      <button class="nav-btn" data-view="feedback">Feedback</button>
    </nav>
  </header>

  <main>
    <!-- HOME -->
    <section id="home" class="view active">
      <div class="cards">
        <div class="card">
          <h4>Temperature</h4>
          <div class="value" id="tempVal">-- °C</div>
          <div class="meter" title="Temperature relative"> <span id="tempMeter"></span></div>
        </div>
        <div class="card">
          <h4>Air Quality Index (AQI)</h4>
          <div class="value" id="aqiVal">--</div>
          <div class="meter" title="AQI level"><span id="aqiMeter"></span></div>
        </div>
        <div class="card">
          <h4>Traffic Density</h4>
          <div class="value" id="trafficVal">--</div>
          <div class="meter" title="Traffic congestion"><span id="trafficMeter"></span></div>
        </div>
      </div>

      <div style="display:flex;gap:16px;align-items:center;flex-wrap:wrap">
        <div style="flex:1;min-width:260px;background:var(--card);padding:14px;border-radius:12px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <div style="font-weight:700">City Overview</div>
              <div style="font-size:13px;color:var(--muted)">Key metrics updated from local data</div>
            </div>
            <div class="clock" id="clock">--</div>
          </div>
          <div style="margin-top:12px;color:var(--muted);font-size:14px">Stay informed — this is a static demo, all data is simulated.</div>
        </div>

        <div style="flex:1;min-width:320px;background:var(--card);padding:14px;border-radius:12px">
          <div style="font-weight:700">Quick Glance</div>
          <div style="display:flex;gap:10px;margin-top:10px;flex-wrap:wrap">
            <div style="min-width:120px;background:rgba(255,255,255,0.02);padding:10px;border-radius:8px">
              <div style="font-size:12px;color:var(--muted)">Hospitals</div>
              <div style="font-weight:700">12</div>
            </div>
            <div style="min-width:120px;background:rgba(255,255,255,0.02);padding:10px;border-radius:8px">
              <div style="font-size:12px;color:var(--muted)">Parks</div>
              <div style="font-weight:700">18</div>
            </div>
            <div style="min-width:120px;background:rgba(255,255,255,0.02);padding:10px;border-radius:8px">
              <div style="font-size:12px;color:var(--muted)">Schools</div>
              <div style="font-weight:700">26</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ALERTS -->
    <section id="alerts" class="view">
      <div class="alerts-wrap">
        <aside class="filters">
          <h4>Filters</h4>
          <div style="margin-top:8px">
            <label><input type="checkbox" class="filter" value="Traffic" checked> Traffic</label><br>
            <label><input type="checkbox" class="filter" value="Weather" checked> Weather</label><br>
            <label><input type="checkbox" class="filter" value="Health" checked> Health</label><br>
            <label><input type="checkbox" class="filter" value="Public" checked> Public Notices</label>
          </div>
          <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:10px 0">
          <div>
            <button class="btn" id="sortDate">Sort: Newest</button>
          </div>
        </aside>

        <div class="alerts-list" id="alertsList">
          <h4 style="margin-top:0">City Alerts</h4>
          <!-- Alerts will be injected here -->
        </div>
      </div>
    </section>

    <!-- MAP -->
    <section id="map" class="view">
      <div class="map-wrap">
        <div class="map-card">
          <h4>City Map</h4>
          <div style="margin-top:10px;color:var(--muted);font-size:13px">Click zones for details.</div>
          <!-- Simple inline SVG map with zones -->
          <div style="margin-top:12px">
            <svg viewBox="0 0 600 360" role="img" aria-label="Simplified city map">
              <defs>
                <style>.z{fill:#072B3A;stroke:#04313f;stroke-width:2}</style>
              </defs>
              <!-- Background grid -->
              <rect x="0" y="0" width="600" height="360" fill="#031018" rx="8"/>

              <!-- Zones: parks, hospitals, schools, malls -->
              <g id="parks" class="zone z" data-zone="Parks">
                <rect x="30" y="30" width="140" height="100" rx="8" fill="#0e4b3a"/>
              </g>
              <g id="hospitals" class="zone z" data-zone="Hospitals">
                <rect x="210" y="40" width="160" height="80" rx="8" fill="#5a1f2a"/>
              </g>
              <g id="schools" class="zone z" data-zone="Schools">
                <rect x="30" y="150" width="340" height="80" rx="8" fill="#31435b"/>
              </g>
              <g id="malls" class="zone z" data-zone="Malls">
                <rect x="400" y="60" width="160" height="120" rx="8" fill="#3a2b5a"/>
              </g>

              <!-- small icons / labels -->
              <text x="60" y="90" fill="#d6f3ec" font-size="14">Parks</text>
              <text x="240" y="80" fill="#ffdfe6" font-size="14">Hospitals</text>
              <text x="60" y="190" fill="#cfe0f8" font-size="14">Schools</text>
              <text x="440" y="130" fill="#e8d8ff" font-size="14">Malls</text>
            </svg>
          </div>
        </div>

        <div class="map-card" id="zoneInfo">
          <h4>Zone Info</h4>
          <div id="zoneDetails" style="color:var(--muted);margin-top:8px">Click any zone on the map to see details here.</div>
        </div>
      </div>
    </section>

    <!-- FEEDBACK -->
    <section id="feedback" class="view">
      <div style="max-width:780px;background:var(--card);padding:16px;border-radius:12px">
        <h3>Feedback & Citizen Connect</h3>
        <p style="color:var(--muted)">Let us know your suggestions or report an issue.</p>
        <form id="feedbackForm" novalidate>
          <div style="display:flex;gap:12px;flex-wrap:wrap">
            <input type="text" id="name" placeholder="Your name" required style="flex:1">
            <input type="email" id="email" placeholder="Email" required style="flex:1">
          </div>
          <div style="margin-top:10px">
            <textarea id="message" placeholder="Message" rows="6" required></textarea>
          </div>
          <div style="margin-top:12px;display:flex;gap:10px;align-items:center">
            <button class="btn" type="submit">Send Message</button>
            <div id="formMsg" style="color:var(--muted);font-size:13px"></div>
          </div>
        </form>
      </div>
    </section>

  </main>

  <!-- Custom Modal / Overlay container (hidden by default) -->
  <div id="overlay" class="overlay" style="display:none">
    <div class="modal" role="dialog" aria-modal="true">
      <div id="modalContent"></div>
      <div style="margin-top:12px;text-align:right"><button class="btn" id="closeModal">Close</button></div>
    </div>
  </div>

  <script>
    /************* Preloaded Data (static) *************/
    const cityData = {
      temperature: 29.4, // °C
      aqi: 128,
      traffic: 62, // percentage congestion
      quick: {hospitals:12, parks:18, schools:26}
    };

    const alerts = [
      {id:1, type:'Traffic', title:'Bridge lane closed for maintenance', date:'2025-11-12', details:'Two lanes closed on River Bridge from 9 AM to 5 PM. Use alternative route via East Avenue.'},
      {id:2, type:'Weather', title:'Light rains expected', date:'2025-11-14', details:'Scattered showers expected this evening. Carry umbrellas.'},
      {id:3, type:'Health', title:'Free vaccination camp', date:'2025-11-10', details:'Free flu vaccination at Community Center, 10 AM - 4 PM.'},
      {id:4, type:'Public', title:'Library closed on Sunday', date:'2025-11-16', details:'Central library closed for inventory.'},
      {id:5, type:'Traffic', title:'Traffic advisory for marathon', date:'2025-11-20', details:'City marathon will affect Park Street and Market Road from 6 AM to 11 AM.'}
    ];

    const zones = {
      'Parks':{desc:'Green spaces and recreational areas. Well-maintained walking tracks.', contact:'Parks Dept: +91-98765-43210'},
      'Hospitals':{desc:'Public and private hospitals with emergency units.', contact:'Health Dept: +91-91234-56789'},
      'Schools':{desc:'Primary and secondary schools across the city.', contact:'Education Dept: +91-90123-45678'},
      'Malls':{desc:'Shopping and entertainment complexes with parking facilities.', contact:'Commerce Dept: +91-99876-54321'}
    };

    /************* Navigation & View switching *************/
    document.querySelectorAll('.nav-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'))
        btn.classList.add('active')
        const view = btn.dataset.view
        document.querySelectorAll('.view').forEach(v=>v.classList.remove('active'))
        document.getElementById(view).classList.add('active')
      })
    })

    /************* Dashboard rendering & clock *************/
    function renderDashboard(){
      document.getElementById('tempVal').textContent = cityData.temperature.toFixed(1) + ' °C'
      document.getElementById('aqiVal').textContent = cityData.aqi
      document.getElementById('trafficVal').textContent = cityData.traffic + ' %'
      document.getElementById('tempMeter').style.width = Math.min(100, (cityData.temperature/45)*100) + '%'
      document.getElementById('aqiMeter').style.width = Math.min(100,(cityData.aqi/300)*100) + '%'
      document.getElementById('trafficMeter').style.width = cityData.traffic + '%'

      // clock
      setInterval(()=>{
        const now = new Date();
        const opts = {weekday:'short',year:'numeric',month:'short',day:'numeric'}
        document.getElementById('clock').textContent = now.toLocaleTimeString() + ' • ' + now.toLocaleDateString()
      },1000)
    }

    renderDashboard()

    /************* Alerts list with filters & sorting *************/
    let sortNewest = true
    function drawAlerts(){
      const list = document.getElementById('alertsList')
      const checked = Array.from(document.querySelectorAll('.filter:checked')).map(i=>i.value)
      let filtered = alerts.filter(a=>checked.includes(a.type))
      filtered.sort((a,b)=> sortNewest ? (new Date(b.date) - new Date(a.date)) : (new Date(a.date)- new Date(b.date)))

      // clear previous items (keep title)
      list.querySelectorAll('.alert-item').forEach(n=>n.remove())
      filtered.forEach(a=>{
        const div = document.createElement('div')
        div.className='alert-item'
        div.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:start"><div><strong>${a.title}</strong><div style="color:var(--muted);font-size:13px;margin-top:6px">${a.details}</div></div><div style=\"text-align:right\"><span class='badge'>${a.type}</span><div style=\"font-size:12px;color:var(--muted);margin-top:6px\">${a.date}</div></div></div>`
        div.addEventListener('click', ()=>openModal(`<h3>${a.title}</h3><p style='color:var(--muted)'>${a.details}</p><p style='margin-top:8px'><strong>Category:</strong> ${a.type} • <strong>Date:</strong> ${a.date}</p>`))
        list.appendChild(div)
      })
    }

    document.querySelectorAll('.filter').forEach(f=>f.addEventListener('change', drawAlerts))
    document.getElementById('sortDate').addEventListener('click', ()=>{ sortNewest = !sortNewest; document.getElementById('sortDate').textContent = sortNewest ? 'Sort: Newest' : 'Sort: Oldest'; drawAlerts() })
    drawAlerts()

    /************* Map interactions *************/
    document.querySelectorAll('.zone').forEach(z=>{
      z.addEventListener('click', ()=>{
        const key = z.dataset.zone
        const info = zones[key]
        document.getElementById('zoneDetails').innerHTML = `<div style='font-weight:700'>${key}</div><div style='color:var(--muted);margin-top:6px'>${info.desc}</div><div style='margin-top:8px;color:var(--muted)'><strong>Contact:</strong> ${info.contact}</div><div style='margin-top:12px'><button class='btn' onclick=\"openModal('More details for ${key}')\">More</button></div>`
      })

      z.addEventListener('mouseenter', ()=>{
        z.style.opacity = 0.95
        z.style.transform = 'scale(1.02)'
      })
      z.addEventListener('mouseleave', ()=>{
        z.style.opacity = 1
        z.style.transform = ''
      })
    })

    /************* Modal utilities *************/
    const overlay = document.getElementById('overlay')
    const modalContent = document.getElementById('modalContent')
    function openModal(html){ modalContent.innerHTML = html; overlay.style.display='flex' }
    function closeModal(){ overlay.style.display='none'; modalContent.innerHTML = '' }
    document.getElementById('closeModal').addEventListener('click', closeModal)
    overlay.addEventListener('click', (e)=>{ if(e.target===overlay) closeModal() })

    /************* Feedback form validation *************/
    const form = document.getElementById('feedbackForm')
    form.addEventListener('submit', (e)=>{
      e.preventDefault()
      const name = document.getElementById('name').value.trim()
      const email = document.getElementById('email').value.trim()
      const message = document.getElementById('message').value.trim()

      const msgEl = document.getElementById('formMsg')
      msgEl.textContent = ''

      if(name.length < 2){ msgEl.textContent = 'Please enter a valid name.'; return }
      if(!/^\S+@\S+\.\S+$/.test(email)){ msgEl.textContent = 'Please enter a valid email.'; return }
      if(message.length < 6){ msgEl.textContent = 'Message should be at least 6 characters.'; return }

      // Simulate successful submission (no backend) and show custom modal
      openModal(`<h3>Thanks, ${escapeHtml(name)}!</h3><p style='color:var(--muted)'>Your message has been received. We'll review it shortly.</p><p style='margin-top:8px;color:var(--muted)'>Follow us: @CityPulseOfficial</p>`)
      form.reset()
    })

    function escapeHtml(str){ return str.replace(/[&<>"']/g, (s)=> ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"})[s]) }

    /************* Small accessibility helpers *************/
    // Keyboard nav for views
    document.addEventListener('keydown', (e)=>{
      if(e.key === '1') document.querySelector('[data-view="home"]').click()
      if(e.key === '2') document.querySelector('[data-view="alerts"]').click()
      if(e.key === '3') document.querySelector('[data-view="map"]').click()
      if(e.key === '4') document.querySelector('[data-view="feedback"]').click()
      if(e.key === 'Escape') closeModal()
    })

    /************* Init small animation (subtle) *************/
    document.querySelectorAll('.card').forEach((c,i)=>{ c.style.transform='translateY(6px)'; setTimeout(()=>c.style.transform='', i*80) })
  </script>

  <!--
  README & Git push instructions
  - Save this file as index.html inside a folder named `city-pulse`.
  - To run locally: open index.html in any modern browser.
  - To deploy on GitHub Pages:
      1. Create a repository on GitHub named `city-pulse` (or your preferred name).
      2. In your local project folder run:
         git init
         git add .
         git commit -m "Initial CityPulse static dashboard"
         git branch -M main
         git remote add origin https://github.com/Himanshi771/city-pulse.git
         git push -u origin main
      3. On GitHub, go to repo Settings → Pages → choose branch `main` and folder `/ (root)`, save.

  Troubleshooting:
  - If `git push` says "Repository not found": ensure the GitHub repo exists under your account and the remote URL is correct. You can update remote with:
      git remote set-url origin https://github.com/Himanshi771/city-pulse.git
  - If using SSH, use the SSH remote URL instead: git@github.com:Himanshi771/city-pulse.git
  -->
</body>
</html>